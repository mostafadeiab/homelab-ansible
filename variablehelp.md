# Variable Help
This document includes help for setting up your variables in the `group_vars/all/vars.yml` file.

Once you've installed Ubuntu, you'll need an SSH Key for Ansible to use. You will need to create an one and copy it to the server. This can be done with the following commands:

```bash
ssh-keygen -o -a 100 -t ed25519 -f <path to ssh file> -C <your_email>
ssh-copy-id -i ~/.ssh/homeserver <user>@<server>
```

Note: I'd recommend storing the ssh file at `~/.ssh/homeserver`

Fork this repository, then clone it to your local machine and run the following command to install the required roles:

```bash
git clone https://github.com/nickjg1/homeserver-ansible
ansible-galaxy install -r requirements.yml
```

Change directories and create an ansible vault file with the following command and enter a password when prompted:

```bash
cd homeserver-ansible
ansible-vault create group_vars/all/vault.yml
```

Open the vault file with the following command:

```bash
ansible-vault edit group_vars/all/vault.yml
```

Paste the following into the vault file and replace the values with your own:

```yaml
user_password: "<your sudo password>"
```

Remove <> tags but keep your variables inside of the "". Please be mindful that some passwords and API keys are in **plain text**.

`username`: Your Ubuntu username you chose at setup.

`puid`: Run the `id` command on your server and use the value in the `uid` field.

`pgid`: Run the `id` command on your server and use the value in the `gid` field.

`ip_address`: Your server IP address. Run the `ip a` on your server to see your IP.

`timezone`: Your timezone. Run the `timedatectl list-timezones` command to see what is a valid timezone.

`domain`: Your domain name

`cloudflare_email`: The email you used to sign up for Cloudflare

`cloudflare_api_key`: Your [Cloudflare global API key](https://developers.cloudflare.com/fundamentals/api/get-started/keys/)

`traefik_basic_auth_hash`: Generate your hashed login credentials with the following command:

```bash
echo $(htpasswd -nb "<USER>" "<PASSWORD>") | sed -e s/\\$/\\$\\$/g
```

Replace `<USER>` with your username and `<PASSWORD>` with your password to be hashed.

`jwt_secret`: A random alphanumeric string. Generate it with this command:

```bash
docker run authelia/authelia:latest authelia crypto rand --length 64 --charset alphanumeric
```

`authelia_sqlite_encryption_key`: A random alphanumeric string with at least 20 characters. Run the command above to generate one. **Don't** reuse keys.

`google_mail`: Your google email

`google_insecure_app_pass`: An app password that allows SMTP through google. See [instructions](https://support.google.com/accounts/answer/185833?hl=en) on how to get yours. Make sure it's the same account that's used above.

`authelia_admin_mail`: The admin email used in Authelia

`authelia_admin_argon2id_pass`: A hashed password using the [Argon2 encryption algorithm](https://www.authelia.com/reference/guides/passwords/).

```bash
docker run authelia/authelia:latest authelia crypto hash generate argon2 --password '<PASSWORD>'
```

`vaultwarden_admin_argon2id_pass`: Use the command above to generate a hashed password. **Don't** reuse passwords.

`wg_password`: The password to login into your wireguard client.

`codeserver_password`: The password to login into your code server client.

`pihole_password`: The password to login into your pihole client.

`mysql_password`: The password to login into your mysql client.

`vpn_provider`: The VPN provider you have an account with. See [supported VPN Clients](https://haugene.github.io/docker-transmission-openvpn/supported-providers/)

`vpn_config`: The VPN server you want your Transmission client to connect to. Example: `nl_all`

`vpn_username`: The username you used to sign up to a VPN service.

`vpn_password`: The password you used to sign up to a VPN service.

`local_network`: Your local network. See [how to find it](https://www.youtube.com/watch?v=d2pnH4k9rZ0) Example: `192.168.0.0/16`
